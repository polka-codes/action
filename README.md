# Polka Codes GitHub Action

A GitHub Action that integrates with [Polka Codes](https://github.com/polka-codes/polka-codes) to analyze code and provide automated feedback through GitHub issues and pull requests. This action enables seamless code analysis, generation, and review automation in your GitHub workflows.

## Overview

This action allows you to:
- Process GitHub issues and pull requests using Polka Codes
- Apply custom code analysis rules and configurations
- Generate automated code improvements and suggestions
- Create pull requests with proposed changes

## Installation

Add the action to your GitHub workflow:

```yaml
- uses: polka-codes/action@v1
  with:
    # Configure inputs based on your needs
    issue_number: ${{ github.event.issue.number }}
  env:
    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
    POLKA_CODES_TOKEN: ${{ secrets.POLKA_CODES_TOKEN }}
```

## Configuration

### Required Environment Variables

- `GITHUB_TOKEN`: GitHub token for API access (automatically provided by GitHub Actions)
- `POLKA_CODES_TOKEN`: Your Polka Codes API token for authentication

### Action Inputs

| Input | Description | Required | Default |
|-------|-------------|----------|---------|
| `issue_number` | The issue number to process | No | - |
| `pr_number` | The pull request number to process | No | - |
| `task` | Direct task description to process | No | - |
| `config` | Path to the polka.codes config file(s) | No | `.polkacodes.yml` |

Note: At least one of `issue_number`, `pr_number`, or `task` must be provided.

### Custom Configuration

Create a `.polkacodes.yml` file in your repository to customize the behavior:

```yaml
scripts:
  check:
    command: bun run check
    description: Run type checking and linting
  format:
    command: bun run fix
    description: Format code using Biome

rules:
  - Use TypeScript with strict type checking
  - Use single quotes for strings
  - Use spaces for indentation (2 spaces)

excludeFiles:
  - dist/
  - node_modules/
  - .env
```

## Usage Examples

### Process Pull Requests

```yaml
name: Polka Codes PR Review
on:
  pull_request:
    types: [opened, synchronize]

jobs:
  review:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: polka-codes/action@v1
        with:
          pr_number: ${{ github.event.pull_request.number }}
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          POLKA_CODES_TOKEN: ${{ secrets.POLKA_CODES_TOKEN }}
```

### Process Issues

```yaml
name: Polka Codes Issue Processing
on:
  issues:
    types: [opened, edited]

jobs:
  process:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: polka-codes/action@v1
        with:
          issue_number: ${{ github.event.issue.number }}
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          POLKA_CODES_TOKEN: ${{ secrets.POLKA_CODES_TOKEN }}
```

### Custom Configuration

```yaml
name: Polka Codes Custom Config
on:
  pull_request:
    types: [opened, synchronize]

jobs:
  analyze:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: polka-codes/action@v1
        with:
          pr_number: ${{ github.event.pull_request.number }}
          config: .polkacodes.yml,custom.polkacodes.yml
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          POLKA_CODES_TOKEN: ${{ secrets.POLKA_CODES_TOKEN }}
```

### Direct Task Processing

```yaml
name: Polka Codes Task
on:
  workflow_dispatch:
    inputs:
      task:
        description: 'Task description'
        required: true

jobs:
  process:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: polka-codes/action@v1
        with:
          task: ${{ github.event.inputs.task }}
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          POLKA_CODES_TOKEN: ${{ secrets.POLKA_CODES_TOKEN }}
```

## License

MIT License - see LICENSE file for details.

---
*This README is generated by polka.codes*